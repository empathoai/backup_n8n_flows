{
  "active": false,
  "activeVersion": null,
  "activeVersionId": null,
  "connections": {
    "List Search Indexes": {
      "main": [
        [
          {
            "node": "Find documents",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Find documents": {
      "main": [
        [
          {
            "node": "Update Search Index",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update Search Index": {
      "main": [
        [
          {
            "node": "Aggregate documents",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate documents": {
      "main": [
        [
          {
            "node": "Delete documents",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Delete documents": {
      "main": [
        [
          {
            "node": "Find documents1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Find documents1": {
      "main": [
        [
          {
            "node": "Find and replace documents",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Find and replace documents": {
      "main": [
        [
          {
            "node": "Find and update documents",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Find and update documents": {
      "main": [
        [
          {
            "node": "Insert documents",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Insert documents": {
      "main": [
        [
          {
            "node": "Update documents",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update documents": {
      "main": [
        [
          {
            "node": "Create Search Index",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Search Index": {
      "main": [
        [
          {
            "node": "Drop Search Index",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-11-25T07:37:44.502Z",
  "id": "AJ9aaKNK1S9jca4u",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "MongoNodes",
  "nodes": [
    {
      "parameters": {
        "resource": "searchIndexes",
        "operation": "listSearchIndexes",
        "collection": "n8n_chat_history",
        "indexName": "_id"
      },
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.2,
      "position": [
        -2592,
        -336
      ],
      "id": "110e4c82-5df3-4a13-b1a2-a96ddc86ea62",
      "name": "List Search Indexes",
      "credentials": {
        "mongoDb": {
          "id": "KNCVFnX6uXTL664z",
          "name": "MongoDB n8n"
        }
      }
    },
    {
      "parameters": {
        "collection": "leads",
        "options": {}
      },
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.2,
      "position": [
        -2352,
        -336
      ],
      "id": "f8c63390-5f6d-4d71-948d-cd5f9abbcda9",
      "name": "Find documents",
      "credentials": {
        "mongoDb": {
          "id": "KNCVFnX6uXTL664z",
          "name": "MongoDB n8n"
        }
      }
    },
    {
      "parameters": {
        "resource": "searchIndexes",
        "operation": "updateSearchIndex",
        "collection": "n8n_chat_history"
      },
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.2,
      "position": [
        -2160,
        -336
      ],
      "id": "d1c40a6b-683c-4a67-9475-d007e82b30d7",
      "name": "Update Search Index",
      "credentials": {
        "mongoDb": {
          "id": "KNCVFnX6uXTL664z",
          "name": "MongoDB n8n"
        }
      }
    },
    {
      "parameters": {
        "operation": "aggregate"
      },
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.2,
      "position": [
        -1952,
        -336
      ],
      "id": "6f6b86d0-29a6-41dd-8fd1-60afbea2f8ec",
      "name": "Aggregate documents",
      "credentials": {
        "mongoDb": {
          "id": "KNCVFnX6uXTL664z",
          "name": "MongoDB n8n"
        }
      }
    },
    {
      "parameters": {
        "operation": "delete"
      },
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.2,
      "position": [
        -1760,
        -336
      ],
      "id": "87199427-bd58-419c-8359-621cfe81e1b0",
      "name": "Delete documents",
      "credentials": {
        "mongoDb": {
          "id": "KNCVFnX6uXTL664z",
          "name": "MongoDB n8n"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.2,
      "position": [
        -1552,
        -336
      ],
      "id": "e9446f13-c0b0-484e-9442-5a54a4b66e4c",
      "name": "Find documents1",
      "credentials": {
        "mongoDb": {
          "id": "KNCVFnX6uXTL664z",
          "name": "MongoDB n8n"
        }
      }
    },
    {
      "parameters": {
        "operation": "findOneAndReplace",
        "options": {}
      },
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.2,
      "position": [
        -1344,
        -336
      ],
      "id": "58bbd43c-2fd2-4f8c-a997-ba31049a951a",
      "name": "Find and replace documents",
      "credentials": {
        "mongoDb": {
          "id": "KNCVFnX6uXTL664z",
          "name": "MongoDB n8n"
        }
      }
    },
    {
      "parameters": {
        "operation": "findOneAndUpdate",
        "options": {}
      },
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.2,
      "position": [
        -1184,
        -336
      ],
      "id": "fb35a754-73b0-436b-983e-ea31dac23b50",
      "name": "Find and update documents",
      "credentials": {
        "mongoDb": {
          "id": "KNCVFnX6uXTL664z",
          "name": "MongoDB n8n"
        }
      }
    },
    {
      "parameters": {
        "operation": "insert",
        "options": {}
      },
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.2,
      "position": [
        -976,
        -336
      ],
      "id": "15ff7b9e-5cac-4120-a93e-069504f6b793",
      "name": "Insert documents",
      "credentials": {
        "mongoDb": {
          "id": "KNCVFnX6uXTL664z",
          "name": "MongoDB n8n"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "options": {}
      },
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.2,
      "position": [
        -768,
        -336
      ],
      "id": "138bdbc0-9b41-45b3-a75d-4a97da142b47",
      "name": "Update documents",
      "credentials": {
        "mongoDb": {
          "id": "KNCVFnX6uXTL664z",
          "name": "MongoDB n8n"
        }
      }
    },
    {
      "parameters": {
        "resource": "searchIndexes"
      },
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.2,
      "position": [
        -560,
        -336
      ],
      "id": "11f29407-dafe-4bc4-88fa-0fd084659af9",
      "name": "Create Search Index",
      "credentials": {
        "mongoDb": {
          "id": "KNCVFnX6uXTL664z",
          "name": "MongoDB n8n"
        }
      }
    },
    {
      "parameters": {
        "resource": "searchIndexes",
        "operation": "dropSearchIndex"
      },
      "type": "n8n-nodes-base.mongoDb",
      "typeVersion": 1.2,
      "position": [
        -352,
        -336
      ],
      "id": "f06bc9aa-a2f6-49b0-9ae1-c8f55a213145",
      "name": "Drop Search Index",
      "credentials": {
        "mongoDb": {
          "id": "KNCVFnX6uXTL664z",
          "name": "MongoDB n8n"
        }
      }
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "updatedAt": "2025-11-25T07:37:44.505Z",
      "createdAt": "2025-11-25T07:37:44.505Z",
      "role": "workflow:owner",
      "workflowId": "AJ9aaKNK1S9jca4u",
      "projectId": "zIvgruNDMJwjqAqX"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-11-25T07:40:42.000Z",
  "versionId": "29692dc7-7b73-4561-a8e5-b24d8a35219f"
}