{
  "active": false,
  "connections": {
    "Download Image": {
      "main": [
        [
          {
            "node": "Analyze Image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyze Image": {
      "main": [
        [
          {
            "node": "Image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download Audio": {
      "main": [
        [
          {
            "node": "Transcribe Audio",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Transcribe Audio": {
      "main": [
        [
          {
            "node": "Audio",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent1": {
      "main": [
        [
          {
            "node": "From audio to audio?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download File": {
      "main": [
        [
          {
            "node": "Extract from File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract from File": {
      "main": [
        [
          {
            "node": "File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Only PDF File": {
      "main": [
        [
          {
            "node": "Download File",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Invalid File Type1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fix mimeType for Audio": {
      "main": [
        [
          {
            "node": "Google Drive1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Text": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Audio": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Image": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "File": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Audio Response": {
      "main": [
        [
          {
            "node": "Fix mimeType for Audio",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "From audio to audio?": {
      "main": [
        [
          {
            "node": "Generate Audio Response",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send message2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input type": {
      "main": [
        [
          {
            "node": "Text",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Download Audio",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Download Image",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Only PDF File",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "WhatsApp Trigger": {
      "main": [
        [
          {
            "node": "Input type",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive1": {
      "main": [
        [
          {
            "node": "Send message1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send message1": {
      "main": [
        [
          {
            "node": "Google Drive",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-10-25T12:35:39.128Z",
  "id": "gul1guz4aOOdJ8aN",
  "isArchived": false,
  "meta": null,
  "name": "Community / AI Agent Bot that understands Text, Audio, Image and Documents",
  "nodes": [
    {
      "parameters": {
        "url": "=https://api.wassenger.com{{ $('Wassenger Trigger').item.json.data.media.links.download }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "id": "e69bcd72-e8cc-4382-95f8-f57f8a1321b9",
      "name": "Download Image",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        2320,
        1264
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "resource": "image",
        "operation": "analyze",
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini",
          "cachedResultName": "GPT-4O-MINI"
        },
        "text": "=You are an advanced image description AI assistant . Your primary function is to provide detailed, accurate descriptions of images submitted through WhatsApp.\n\nCORE FUNCTIONALITY:\n- When presented with an image, you will analyze it thoroughly and provide a comprehensive description in English.\n- Your descriptions should capture both the obvious and subtle elements within the image.\n\nIMAGE DESCRIPTION GUIDELINES:\n- Begin with a broad overview of what the image contains\n- Describe key subjects, people, objects, and their relationships\n- Note significant visual elements such as colors, lighting, composition, and perspective\n- Identify any text visible in the image\n- Describe the setting or environment\n- Mention any notable actions or events taking place\n- Comment on mood, tone, or atmosphere when relevant\n- If applicable, identify landmarks, famous people, or cultural references\n\nRESPONSE FORMAT:\n- Start with \"Image Description:\" followed by your analysis\n- Structure your description in a logical manner (general to specific)\n- Use clear, precise language appropriate for visual description\n- Format longer descriptions with paragraphs to enhance readability\n- End with any notable observations that might require special attention\n\nLIMITATIONS:\n- If the image is blurry, low resolution, or difficult to interpret, acknowledge these limitations\n- If an image contains potentially sensitive content, provide a factual description without judgment\n- Do not make assumptions about elements that cannot be clearly determined\n\nYour descriptions should be informative, objective, and thorough, enabling someone who cannot see the image to form an accurate mental picture of its contents.",
        "inputType": "base64",
        "options": {
          "detail": "auto"
        }
      },
      "id": "2d259156-ae1d-49ab-9a57-4ec2b4dd77f4",
      "name": "Analyze Image",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        2560,
        1264
      ],
      "typeVersion": 1.8
    },
    {
      "parameters": {
        "url": "=https://api.wassenger.com{{ $('Wassenger Trigger').item.json.data.media.links.download }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "id": "9767ba99-62c3-4de1-adba-2ef2cdb1eddc",
      "name": "Download Audio",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        2320,
        960
      ],
      "typeVersion": 4.2,
      "credentials": {
        "httpHeaderAuth": {
          "id": "tmSbRYPaoOYHbWPX",
          "name": "Cal API test"
        }
      }
    },
    {
      "parameters": {
        "resource": "audio",
        "operation": "transcribe",
        "options": {}
      },
      "id": "a4074177-1808-4722-8b6a-7e5e72cfcb77",
      "name": "Transcribe Audio",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        2560,
        960
      ],
      "typeVersion": 1.8
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "id": "08576970-1dd2-40c3-8814-6f4183b56f24",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        1760,
        2528
      ],
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.data.body }}",
        "options": {
          "systemMessage": "=You are an intelligent assistant. Your purpose is to analyze various types of input and provide helpful, accurate responses.\n\nYou are currently talking to {{ $('Input type').item.json.data.chat.name }}\n\nThe current time is {{ $now.toISO() }}\n\nCAPABILITIES:\n- Process and respond to text messages\n- Analyze uploaded files\n- Interpret and describe images\n- Transcribe and understand voice messages\n\nINPUT HANDLING:\n1. For text messages: Analyze the content, understand the intent, and provide a relevant response.\n2. For file analysis: Examine the file content, extract key information, and summarize important points also based on the questions asked.\n3. For image analysis: Describe what you see in the image, identify key elements, and respond to any questions about the image.\n4. For voice messages: Transcribe the audio, understand the message, and respond appropriately.\n\nRESPONSE GUIDELINES:\n- Be concise but thorough\n- Prioritize accuracy over speculation\n- Maintain a professional and helpful tone\n- When uncertain, acknowledge limitations\n- Format responses for easy reading on mobile devices\n- Include actionable information when appropriate\n\nLIMITATIONS:\n- Mention if you're unable to process certain file formats\n- Indicate if an image is unclear or if details are difficult to discern\n- Note if audio quality impacts transcription accuracy\n\nSECURITY & PRIVACY:\n- Do not store or remember sensitive information shared in files, images, or voice notes\n- Do not share personal information across different user interactions\n- Inform users about data privacy limitations when relevant\n\nAnalyze all inputs carefully before responding. Your goal is to provide value through accurate information and helpful assistance."
        }
      },
      "id": "be6d6b44-78f2-426c-b4fa-905842d1a58d",
      "name": "AI Agent1",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        1824,
        2304
      ],
      "typeVersion": 1.8
    },
    {
      "parameters": {
        "url": "=https://api.wassenger.com{{ $('Wassenger Trigger').item.json.data.media.links.download }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "id": "6a4151d0-dd5c-46da-8740-457a8bf0384e",
      "name": "Download File",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        2320,
        1600
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "operation": "pdf",
        "options": {}
      },
      "id": "dca98d43-369d-462e-9fa5-e3881c108fd6",
      "name": "Extract from File",
      "type": "n8n-nodes-base.extractFromFile",
      "position": [
        2560,
        1600
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Input type') }}",
        "contextWindowLength": 20
      },
      "id": "b81dcc0d-de3d-4385-a36c-e77b346b8b2d",
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        1936,
        2512
      ],
      "typeVersion": 1.3
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "f52d2aaa-e0b2-45e5-8c4b-ceef42182a0d",
              "operator": {
                "name": "filter.operator.equals",
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $json.data.media.type }}",
              "rightValue": "document"
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "01172508-91bc-4793-bb4c-613c69761f68",
      "name": "Only PDF File",
      "type": "n8n-nodes-base.if",
      "position": [
        1968,
        1600
      ],
      "typeVersion": 2.2
    },
    {
      "parameters": {
        "jsCode": "for (const item of $input.all()) {\n  if (item.binary) {\n    const binaryPropertyNames = Object.keys(item.binary);\n    for (const propName of binaryPropertyNames) {\n      if (item.binary[propName].mimeType === 'audio/mp3') {\n        item.binary[propName].mimeType = 'audio/mpeg';\n      }\n    }\n  }\n}\n\nreturn $input.all();"
      },
      "id": "79d1b02e-0dba-4b7b-9401-108f854b68f2",
      "name": "Fix mimeType for Audio",
      "type": "n8n-nodes-base.code",
      "position": [
        2656,
        2288
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c53cd9f9-77c1-4331-98ff-bfc9bdf95a3c",
              "name": "text",
              "type": "string",
              "value": "={{ $('Wassenger Trigger').item.json.text.body }}"
            }
          ]
        },
        "options": {}
      },
      "id": "3ab807ef-6abf-49e9-8471-c04630658945",
      "name": "Text",
      "type": "n8n-nodes-base.set",
      "position": [
        2800,
        624
      ],
      "typeVersion": 3.4
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "219577d5-b028-48fc-90be-980f4171ab68",
              "name": "data.body",
              "type": "string",
              "value": "={{ $json.text }}"
            }
          ]
        },
        "options": {}
      },
      "id": "4bc2123b-015a-4b68-9953-5a9ce8785679",
      "name": "Audio",
      "type": "n8n-nodes-base.set",
      "position": [
        2800,
        960
      ],
      "typeVersion": 3.4
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "67552183-de2e-494a-878e-c2948e8cb6bb",
              "name": "data.body",
              "type": "string",
              "value": "=User request on the image:\n{{ \"Describe the following image\" || $('WhatsApp Trigger').item.json.messages[0].image.caption }}\n\nImage description:\n{{ $json.content }}"
            }
          ]
        },
        "options": {}
      },
      "id": "d396da5a-ebe7-40c3-92c8-5523cb9a0b0d",
      "name": "Image",
      "type": "n8n-nodes-base.set",
      "position": [
        2800,
        1264
      ],
      "typeVersion": 3.4
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "67552183-de2e-494a-878e-c2948e8cb6bb",
              "name": "data.body",
              "type": "string",
              "value": "=Analyse the caption with the file:\n{{ $('Only PDF File').item.json.data.body }}\n\nFile content:\n{{ $json.text }}"
            }
          ]
        },
        "options": {}
      },
      "id": "db9fae78-5abe-477a-ab5c-17fa4bceea54",
      "name": "File",
      "type": "n8n-nodes-base.set",
      "position": [
        2800,
        1600
      ],
      "typeVersion": 3.4
    },
    {
      "parameters": {
        "resource": "audio",
        "input": "={{ $('AI Agent1').item.json.output }}",
        "voice": "nova",
        "options": {}
      },
      "id": "ebcb35fb-a2fe-474a-a9c5-15379a5d780f",
      "name": "Generate Audio Response",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        2432,
        2288
      ],
      "typeVersion": 1.8
    },
    {
      "parameters": {
        "content": "## Text",
        "height": 240,
        "width": 1340,
        "color": 4
      },
      "id": "25c1aec6-bedc-423f-ac03-042e377958b2",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1712,
        592
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## Voice",
        "height": 240,
        "width": 1340,
        "color": 5
      },
      "id": "1d7bad98-226d-4d5a-a77c-8bf7d449139c",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1712,
        912
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## Image",
        "height": 240,
        "width": 1340,
        "color": 6
      },
      "id": "1c221f59-a9ae-400e-8088-5e526771df6c",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1712,
        1232
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## Document",
        "height": 240,
        "width": 1340,
        "color": 2
      },
      "id": "4145b794-f54f-4193-b90e-2c84ed37adeb",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1712,
        1568
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## Response",
        "height": 600,
        "width": 1760,
        "color": 5
      },
      "id": "9f1dcc41-abb8-4996-9052-6041e2929de6",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1712,
        2112
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "b9d1d759-f585-4791-a743-b9d72951e77c",
              "operator": {
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $('Input type').item.json.data.type }}",
              "rightValue": "audio"
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "1b75ddc9-bcfa-48fa-b626-5e764bf67a3e",
      "name": "From audio to audio?",
      "type": "n8n-nodes-base.if",
      "position": [
        2160,
        2304
      ],
      "typeVersion": 2.2
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "c63299e9-6069-4bc6-afb9-7beebf6e3d69",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.data.type }}",
                    "rightValue": "text"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Text"
            },
            {
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "08fd0c80-307e-4f45-b1de-35192ee4ec5e",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.data.media.type }}",
                    "rightValue": "audio"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "audio"
            },
            {
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "b7b64446-f1ea-4622-990c-22f3999a8269",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.data.media.type }}",
                    "rightValue": "image"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Image"
            },
            {
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "id": "202af928-a324-411a-bf15-68a349e7bf9e",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.data.media.type }}",
                    "rightValue": "document"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Document"
            }
          ]
        },
        "options": {
          "fallbackOutput": "extra"
        }
      },
      "id": "92ad86a1-ecd2-4f68-bd33-e03cd436697f",
      "name": "Input type",
      "type": "n8n-nodes-base.switch",
      "position": [
        1168,
        1184
      ],
      "typeVersion": 3.2
    },
    {
      "parameters": {
        "content": "## ü§ñ WhatsApp AI Agent Bot\n\n*AI-powered business assistant that understands, listens, and responds intelligently to every customer message.*\n\n---\n\n### üöÄ What This Workflow Does\n\n1. **Captures any incoming WhatsApp message** using a **WhatsApp Trigger**  \n2. **Detects the input type** ‚Äî text, voice, image, or PDF document  \n3. **Processes each medium accordingly:**  \n   - **Text** ‚Üí Directly handled by the AI agent  \n   - **Voice notes** ‚Üí Download ‚Üí Transcribed via **Whisper**  \n   - **Images** ‚Üí Download ‚Üí Analyzed with **GPT-4o Vision**  \n   - **PDFs** ‚Üí Download ‚Üí Text extraction for content analysis  \n4. Combines the cleaned input with a **short-term memory buffer (20 turns)** and feeds it to an **OpenAI Chat Agent** *(GPT-4o-mini by default)*  \n5. Sends the response back through **WhatsApp**:  \n   - **If the user sent audio:** Bot replies with **voice output** (OpenAI TTS ‚Üí uploads mp3 to Google Drive ‚Üí returns link)  \n   - **Otherwise:** Returns plain text  \n6. Rejects unsupported formats with a clear message (‚ÄúOnly text, images, audio, or PDFs are allowed.‚Äù)\n\n**Result:**  \nA conversational AI concierge that can summarize rants, describe images, or read contracts ‚Äî all from within **WhatsApp**.\n\n---\n\n### üß© Core Components\n\n| Node | Function |\n|------|-----------|\n| **WhatsApp Trigger** | Receive & send WhatsApp messages |\n| **Switch ‚Äì Input Type** | Routes to Text / Audio / Image / Document paths |\n| **HTTP Request** | Securely downloads media files |\n| **OpenAI Whisper** | Transcribes voice notes |\n| **GPT-4o Vision** | Analyzes and describes images |\n| **Extract From File** | Converts PDF content into text |\n| **LangChain Agent** | Central logic with system prompt |\n| **Memory Buffer Window** | Keeps the last 20 message turns |\n| **OpenAI TTS (Text-to-Speech)** | Generates audio replies (‚Äúnova‚Äù voice) |\n| **Google Drive (Upload/Delete)** | Stores mp3, retrieves share link, then cleans up |\n\n*(Sticky notes in your n8n canvas label each media lane for easy navigation.)*\n\n---\n\n### üõ†Ô∏è Prerequisites\n\n- **WhatsApp** API credentials  \n- **OpenAI** API key (Chat, Whisper, TTS, Vision)  \n- **Google Drive** OAuth credentials (for audio reply uploads)\n\n---\n\n### ‚òï Quick Start (‚âà 3 sips of coffee)\n\n1. **Import** the workflow JSON into **n8n**  \n2. Add credentials for **WhatsApp**, **OpenAI**, and **Google Drive**  \n3. Edit the **system prompt** if you want a different assistant personality  \n4. Set the **Google Drive folder ID** for storing audio responses  \n5. Activate the workflow and test with an image or voice note ‚Äî enjoy the automation!\n\n---\n\n### üí° Ideas & Extensions\n\n- Send extracted conversation data to **HubSpot** or **Airtable**  \n- Swap **GPT-4o** for a local model ‚Äî just replace the Chat node  \n- Add a **Sentiment Analysis** node to flag negative messages  \n- Expand document handling to Word, PowerPoint, or spreadsheets\n\n---\n\n### ‚öñÔ∏è Best Practices & Limits\n\n- Only **PDFs** are accepted for now; other formats are gracefully declined  \n- Workflow self-limits (one execution per message), but add throttling for high volume  \n- Files are deleted post-reply to keep Google Drive storage optimized  \n- Remember WhatsApp‚Äôs **24-hour customer-initiated window**\n\n---\n\n### üèÅ Ready, Set, Automate!\n\nImport ‚Üí Activate ‚Üí Run.  \nYour **WhatsApp number** is now a multimodal AI assistant ‚Äî capable of chat, vision, and voice.  \nLet it handle the chatter while you focus on strategy. üöÄ\n",
        "height": 2168,
        "width": 1468,
        "color": 4
      },
      "id": "90c184c0-2363-49bd-bd36-5abbf8eff782",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -672,
        416
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## Invalid File",
        "height": 260,
        "width": 320,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1888,
        1824
      ],
      "id": "6e279ce9-8cdf-426d-98ba-75baa8bee566",
      "name": "Sticky Note6"
    },
    {
      "parameters": {
        "content": "## Invalid Input Message",
        "height": 240,
        "width": 320,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1264,
        1568
      ],
      "id": "0fcf5a83-3082-44e3-a21d-4af3b00bbf51",
      "name": "Sticky Note7"
    },
    {
      "parameters": {
        "name": "={{ $json.fileName }}",
        "driveId": {
          "__rl": true,
          "value": "My Drive",
          "mode": "list",
          "cachedResultName": "My Drive",
          "cachedResultUrl": "https://drive.google.com/drive/my-drive"
        },
        "folderId": {
          "__rl": true,
          "value": "1oRnl1orTkQeuEqWQVBBodn1rVrnfNj1f",
          "mode": "list",
          "cachedResultName": "n8n whatsapp audios",
          "cachedResultUrl": "https://drive.google.com/drive/folders/1oRnl1orTkQeuEqWQVBBodn1rVrnfNj1f"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        2864,
        2272
      ],
      "id": "05fa629a-a893-4f60-90c0-626f8602bf0d",
      "name": "Google Drive1",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "BcBZ0GrlNhnoa3MJ",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "operation": "deleteFile",
        "fileId": {
          "__rl": true,
          "value": "={{ $('Google Drive1').item.json.id }}",
          "mode": "id"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        3296,
        2272
      ],
      "id": "0d22c503-0414-4df8-afe3-3df1ebcf8f53",
      "name": "Google Drive"
    },
    {
      "parameters": {
        "updates": [
          "messages"
        ],
        "options": {}
      },
      "type": "n8n-nodes-base.whatsAppTrigger",
      "typeVersion": 1,
      "position": [
        960,
        1232
      ],
      "id": "5ccb66bd-86f3-4937-9374-9d5f3ea57b1e",
      "name": "WhatsApp Trigger",
      "webhookId": "1b6cb206-57c8-42a4-953e-b02e2f631164"
    },
    {
      "parameters": {
        "operation": "send",
        "recipientPhoneNumber": "={{ $('Wassenger Trigger').item.json.data.fromNumber }}",
        "textBody": "You can only send text messages, images, audio files and PDF documents.",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.whatsApp",
      "typeVersion": 1.1,
      "position": [
        1360,
        1648
      ],
      "id": "2aa915ca-925d-4299-8165-9e2ebe5392ee",
      "name": "Send message",
      "webhookId": "4747108f-ab80-4b94-a985-f06181913459"
    },
    {
      "parameters": {
        "operation": "send",
        "recipientPhoneNumber": "={{ $('Wassenger Trigger').item.json.data.fromNumber }}",
        "textBody": "={{ $json.output }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.whatsApp",
      "typeVersion": 1.1,
      "position": [
        2448,
        2480
      ],
      "id": "8ad15a27-ce97-4228-b86c-ff290ecb065a",
      "name": "Send message2",
      "webhookId": "51ab4733-70ea-4f2c-8713-e26501a90c74"
    },
    {
      "parameters": {
        "operation": "send",
        "recipientPhoneNumber": "={{ $('Wassenger Trigger').item.json.data.fromNumber }}",
        "textBody": "={{ $json.webContentLink }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.whatsApp",
      "typeVersion": 1.1,
      "position": [
        3088,
        2272
      ],
      "id": "a2a6ab61-b43d-45b8-9b52-bd8351071404",
      "name": "Send message1",
      "webhookId": "51ab4733-70ea-4f2c-8713-e26501a90c74"
    },
    {
      "parameters": {
        "operation": "send",
        "recipientPhoneNumber": "={{ $('Wassenger Trigger').item.json.data.fromNumber }}",
        "textBody": "Sorry but you can only send PDF files",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.whatsApp",
      "typeVersion": 1.1,
      "position": [
        2000,
        1920
      ],
      "id": "61687743-49a4-43c5-8c24-1dbcd9c9bff4",
      "name": "Invalid File Type1",
      "webhookId": "11922bd9-ebc8-4c4d-9323-1f5eeb25b120"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.whatsAppTool",
      "typeVersion": 1.1,
      "position": [
        2496,
        128
      ],
      "id": "59abad5a-1e38-4615-ace9-6b3ef9c0ac8d",
      "name": "Send template in WhatsApp Business Cloud",
      "webhookId": "7dadd59c-e616-4956-8a11-3e2a71c78389",
      "disabled": true
    },
    {
      "parameters": {
        "operation": "sendAndWait",
        "options": {}
      },
      "type": "n8n-nodes-base.whatsApp",
      "typeVersion": 1.1,
      "position": [
        2768,
        128
      ],
      "id": "eba5d41b-59b0-46dc-925b-61002e00453f",
      "name": "Send message and wait for response",
      "webhookId": "e9619b58-a139-4cb9-9009-1202ba6a7a2f",
      "disabled": true
    },
    {
      "parameters": {
        "updates": [
          "messages"
        ],
        "options": {}
      },
      "type": "n8n-nodes-base.whatsAppTrigger",
      "typeVersion": 1,
      "position": [
        1984,
        112
      ],
      "id": "8267fe1f-caaf-48d1-b851-b13919a0becc",
      "name": "WhatsApp Trigger1",
      "webhookId": "c164f203-988a-4a88-a041-51dbc9115ed9",
      "disabled": true
    },
    {
      "parameters": {
        "operation": "send",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.whatsApp",
      "typeVersion": 1.1,
      "position": [
        2240,
        112
      ],
      "id": "c1221a0c-1a47-439d-bfdb-21380dd65281",
      "name": "Send message3",
      "webhookId": "b4fbabc9-9f77-4b36-8ba6-c31498f5e09a",
      "disabled": true
    },
    {
      "parameters": {
        "content": "## WhatsApp Nodes Used and to Explore",
        "height": 384,
        "width": 1152,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1856,
        -16
      ],
      "id": "7b51fc29-e96b-4431-8f76-e392094b7085",
      "name": "Sticky Note8"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "createdAt": "2025-10-25T12:35:39.131Z",
      "updatedAt": "2025-10-25T12:35:39.131Z",
      "role": "workflow:owner",
      "workflowId": "gul1guz4aOOdJ8aN",
      "projectId": "zIvgruNDMJwjqAqX"
    }
  ],
  "staticData": null,
  "tags": [
    {
      "createdAt": "2025-10-25T12:21:59.038Z",
      "updatedAt": "2025-10-25T12:21:59.038Z",
      "id": "8DVyf0Hp9utHpCg5",
      "name": "whatsapp"
    }
  ],
  "triggerCount": 0,
  "updatedAt": "2025-10-25T13:35:13.000Z",
  "versionId": "9eef347b-1e8d-4774-aa10-f44755d92fc7"
}